<%- include("header.ejs") %>

<div class="container text-center mt-4">
          <!--Timer-->
          <div class="mb-4">
                     <h1 id="difficulty-level"><%= level[0].toUpperCase()+level.substring(1) %>-Level</h1>
                    <h2 id="timer">Time:<%= counter%>s</h2>
          </div>

          <!-- Main game grid: 2 rows * 3 columns-->
         <div class="row justify-content-center">
                <% pokermon.forEach(poker => { %>
                  <div class="col-4 d-flex justify-content-center mb-3">
                    <div class="card game-card">
                      <img id="img<%= poker.number %>" class="front_face card-img-top" src="<%= poker.link %>" alt="card front">
                      <img class="back_face card-img-top" src="/back.webp" alt="card back">
                    </div>
                  </div>
                <% }) %>
         </div>

          <!-- Button controls for game interaction-->
           <div class="btn-group my-2" role="group">
                    <button id="startBtn" class="btn btn-primary">Start</button>
                    <button id="restartBtn" class="btn btn-danger">Reset</button>
           </div>

           <!-- Game Status -->
          <div class="row mt-4 justify-content-center text-center">
                <div class="col-auto">
                  <p>Clicks: <span id="clickCount">0</span></p>
                </div>
                <div class="col-auto">
                  <p>Matched: <span id="matchedPairs">0</span></p>
                </div>
                <div class="col-auto">
                  <p>Remainning: <span id="remainingPairs">3</span></p>
                </div>
                <div class="col-auto">
                  <p>Total Pairs: <span id="remainingPairs">3</span></p>
                </div>
          </div>


            <!-- Theme Buttons-->
             <div class="mt-3">
                    <button id ="lightTheme" class="btn btn-light">Light Theme</button>
                    <button id ="darkTheme" class="btn btn-dark">Dark Theme</button>
             </div>
</div>

<!-- Pop Up window -->
<div id="difficultyPopup" class="modal" tabindex="-1">
       <div class="modal-dialog modal-dialog-centered">
                 <div class="modal-content">
                           <div class="modal-header">
                                     <h5 class="modal-title">Select Difficulty</h5>
                           </div>
                           <div class="modal-body">
                                     <button class = "btn btn-outline-success m-2 difficulty-option" data-level="easy">Easy</button>
                                     <button class = "btn btn-outline-warning m-2 difficulty-option" data-level="medium">Medium</button>
                                     <button class = "btn btn-outline-danger m-2 difficulty-option" data-level="hard">Hard</button>
                           </div>
                 </div>
       </div>
</div>
<div id="gamewin" class="modal" tabindex="-1">
       <div class="modal-dialog modal-dialog-centered">
                 <div class="modal-content">
                           <div class="modal-header">
                                     <h5 class="modal-title">Win!</h5>
                           </div>
                           <div class="modal-body">
                                   <h5>Congratulations! You win!!</h5>
                           </div>
                 </div>
       </div>
</div>
<div id="gamelose" class="modal" tabindex="-1">
       <div class="modal-dialog modal-dialog-centered">
                 <div class="modal-content">
                           <div class="modal-header">
                                     <h5 class="modal-title">Lose!</h5>
                           </div>
                           <div class="modal-body">
                                   <h5>Sorry, time up. Please try again</h5>
                                   <p>Timer runs out:<span id="timeLeft"> 0</span></p>
                                   <p>Unmached Pairs:<span id="unmatched"> 0</span></p>
                           </div>
                 </div>
       </div>
</div>

<%- include("footer.ejs") %>